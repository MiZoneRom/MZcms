<div class="container-fluid">
    <div class="row">

        <div class="col-md-3">
            <a class="btn btn-primary btn-block" href="./Add">添加权限组</a>
        </div>

        <div class="col-md-9">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">权限组</h3>
                </div>
                <div class="card-body">
                    <table class="table table-hover table-striped" id="list"></table>
                </div>
                <div class="card-footer clearfix">
                </div>
            </div>
        </div>

    </div>
</div>

@section Scripts{

    <script src="~/Scripts/DataGrid.js"></script>

    <script type="text/javascript">

        $(function () {
            query();
        })

        function Delete(id) {
            $.dialog.confirm('确定删除该条记录吗？', function () {
                var loading = showLoading();
                $.post("./Delete", { id: id }, function (data) { $.dialog.tips(data.msg); query(); loading.close(); });
            });
        }

        function query() {
            $("#list").MZcmsDatagrid({
                url: './List',
                nowrap: false,
                rownumbers: true,
                NoDataMsg: '没有找到符合条件的数据',
                border: false,
                fit: true,
                fitColumns: true,
                pagination: false,
                idField: "Id",
                queryParams: {},
                toolbar: /*"#goods-datagrid-toolbar",*/'',
                columns:
                    [[
                        { field: "Id", hidden: true },
                        { field: "Name", title: '权限组名', align: "left" },

                        {
                            field: "operation", operation: true, title: "操作", align: "right",
                            formatter: function (value, row, index) {
                                var id = row.Id.toString();
                                var html = ["<span class=\"btn-a\">"];
                                html.push("<a href='./Edit/" + id + "'>编辑</a>");
                                html.push("<a onclick=\"Delete('" + id + "');\">删除</a>");
                                html.push("</span>");
                                return html.join("");
                            }
                        }
                    ]]
            });
        }



    </script>


}